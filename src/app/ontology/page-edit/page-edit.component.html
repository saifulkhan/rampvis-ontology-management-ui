<h5 mat-dialog-title>{{ dialogType | titlecase }} Page</h5>

<mat-dialog-content>
  <form [formGroup]="formGroup" #modalForm>

    <mat-form-field>
      <mat-label>Title</mat-label>
      <input formControlName="title" matInput />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Num. of rows (layout)</mat-label>
      <input formControlName="nrows" matInput type="number"/>
    </mat-form-field>

    <mat-radio-group formControlName="publishType">
      <mat-radio-button *ngFor="let d of publishTypes" [value]="d">
        <span class="wrap-label-text">{{ d | titlecase }}</span>
      </mat-radio-button>
    </mat-radio-group>
  
    <hr>

    <ng-container *ngIf="formGroup.controls['bindVis'] && formGroup.controls['bindVis']['controls']">
      <div *ngFor="let d of formGroup.controls['bindVis']['controls']; let i = index">
        <app-bindvis-edit [formGroup]="d"></app-bindvis-edit>
      </div>
    </ng-container>

    <button
      (click)="onClickBindVis()" 
      [matTooltipPosition]="'left'" 
      class="btn btn-success btn-link float-left" 
      mat-icon-button matTooltip="Bind vis function" 
      type="button"
    ><mat-icon>add_circle</mat-icon></button>
    
    <mat-dialog-actions align="end">
      <button 
        mat-raised-button 
        class="btn btn-warning" 
        [mat-dialog-close]="undefined"
      >
        Cancel
      </button>

      <button
        mat-raised-button 
        class="btn btn-primary" 
        (click)="save()" 
        [disabled]="!formGroup.valid" 
        type="submit"
        >
          Save
        </button>
    </mat-dialog-actions>
  </form>
</mat-dialog-content>
